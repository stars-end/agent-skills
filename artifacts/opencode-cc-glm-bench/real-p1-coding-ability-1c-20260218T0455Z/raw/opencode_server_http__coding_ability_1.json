{
  "run_id": "real-p1-coding-ability-1c-20260218T0455Z",
  "workflow_id": "opencode_server_http",
  "system": "opencode",
  "workflow_kind": "server",
  "prompt_id": "coding_ability_1",
  "prompt_category": "coding_ability",
  "prompt_title": "Implement robust semantic version comparator",
  "model": "glm-5",
  "success": true,
  "retry_count": 0,
  "startup_latency_ms": 0,
  "first_output_latency_ms": 1252,
  "completion_latency_ms": 88471,
  "workflow_startup_latency_ms": 1028,
  "failure_category": null,
  "failure_reason": null,
  "hint_match_ratio": 1.0,
  "session_id": "ses_390e5fa49ffeBmKKolonSZ4uWX",
  "used_model_fallback": true,
  "job_started_at": "2026-02-18T04:55:01Z",
  "job_completed_at": "2026-02-18T04:56:30Z",
  "attempts": [
    {
      "success": true,
      "return_code": 0,
      "timed_out": false,
      "startup_latency_ms": 0,
      "first_output_latency_ms": 1252,
      "completion_latency_ms": 88471,
      "stdout": "Write a Python function `compare_semver(a: str, b: str) -> int` that follows semantic version precedence (major.minor.patch, optional prerelease). Return -1/0/1. Include edge-case handling and 8 pytest-style tests. Output only code in one fenced block.\n```python\ndef compare_semver(a: str, b: str) -> int:\n    \"\"\"Compare semantic versions. Returns -1 if a<b, 0 if a==b, 1 if a>b.\"\"\"\n    def parse(v: str):\n        parts = v.split('-', 1)\n        release = tuple(int(x) for x in parts[0].split('.'))\n        prerelease = parts[1].split('.') if len(parts) > 1 else None\n        return release, prerelease\n\n    def cmp_pre(pa, pb):\n        if pa is None and pb is None:\n            return 0\n        if pa is None:\n            return 1\n        if pb is None:\n            return -1\n        for i in range(max(len(pa), len(pb))):\n            if i >= len(pa):\n                return -1\n            if i >= len(pb):\n                return 1\n            xa, xb = pa[i], pb[i]\n            an, bn = xa.isdigit(), xb.isdigit()\n            if an and bn:\n                if (d := int(xa) - int(xb)) != 0:\n                    return 1 if d > 0 else -1\n            elif an:\n                return -1\n            elif bn:\n                return 1\n            elif xa != xb:\n                return -1 if xa < xb else 1\n        return 0\n\n    ar, ap = parse(a)\n    br, bp = parse(b)\n    if ar < br:\n        return -1\n    if ar > br:\n        return 1\n    return cmp_pre(ap, bp)\n\n\nimport pytest\n\ndef test_equal_versions():\n    assert compare_semver(\"1.0.0\", \"1.0.0\") == 0\n\ndef test_major_difference():\n    assert compare_semver(\"2.0.0\", \"1.9.9\") == 1\n    assert compare_semver(\"1.0.0\", \"2.0.0\") == -1\n\ndef test_minor_difference():\n    assert compare_semver(\"1.2.0\", \"1.1.9\") == 1\n    assert compare_semver(\"1.0.5\", \"1.1.0\") == -1\n\ndef test_patch_difference():\n    assert compare_semver(\"1.0.1\", \"1.0.0\") == 1\n    assert compare_semver(\"1.0.0\", \"1.0.1\") == -1\n\ndef test_prerelease_lower_than_release():\n    assert compare_semver(\"1.0.0-alpha\", \"1.0.0\") == -1\n    assert compare_semver(\"1.0.0\", \"1.0.0-beta\") == 1\n\ndef test_prerelease_lexicographic():\n    assert compare_semver(\"1.0.0-alpha\", \"1.0.0-beta\") == -1\n    assert compare_semver(\"1.0.0-beta\", \"1.0.0-alpha\") == 1\n    assert compare_semver(\"1.0.0-alpha.1\", \"1.0.0-alpha.2\") == -1\n\ndef test_numeric_vs_string_prerelease():\n    assert compare_semver(\"1.0.0-1\", \"1.0.0-alpha\") == -1\n    assert compare_semver(\"1.0.0-alpha.1\", \"1.0.0-alpha.beta\") == -1\n\ndef test_prerelease_field_count():\n    assert compare_semver(\"1.0.0-alpha\", \"1.0.0-alpha.1\") == -1\n    assert compare_semver(\"1.0.0-alpha.1.beta\", \"1.0.0-alpha.1\") == 1\n```",
      "stderr": "",
      "failure_category": null,
      "failure_reason": null,
      "hint_match_ratio": 1.0,
      "session_id": "ses_390e5fa49ffeBmKKolonSZ4uWX",
      "used_model_fallback": true,
      "attempt": 0,
      "attempt_started_at": "2026-02-18T04:55:01Z",
      "attempt_completed_at": "2026-02-18T04:56:30Z"
    }
  ]
}